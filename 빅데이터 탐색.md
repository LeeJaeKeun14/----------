
# 빅데이터 탐색

- [빅데이터 탐색](#빅데이터-탐색)
  - [데이터 전처리](#데이터-전처리)
    - [데이터 정제](#데이터-정제)
      - [데이터에 내재된 변수의 이해](#데이터에-내재된-변수의-이해)
      - [데이터 결측값 처리](#데이터-결측값-처리)
      - [데이터 이상값 처리](#데이터-이상값-처리)
    - [분석 변수 처리](#분석-변수-처리)
      - [변수 선택](#변수-선택)
      - [차원 축소](#차원-축소)
      - [파생변수 생성](#파생변수-생성)
      - [변수 변환](#변수-변환)
      - [불균형 데이터 처리](#불균형-데이터-처리)
  - [데이터 탐색](#데이터-탐색)
    - [데이터 탐색의 기초](#데이터-탐색의-기초)
      - [데이터 탐색의 개요](#데이터-탐색의-개요)
      - [상관관계분석](#상관관계분석)
      - [기초통계량의 추출 및 이해](#기초통계량의-추출-및-이해)
      - [시각적 데이터 탐색](#시각적-데이터-탐색)
    - [고급 데이터 탐색](#고급-데이터-탐색)
      - [시공간 데이터 탐색](#시공간-데이터-탐색)
      - [다변량 데이터 탐색](#다변량-데이터-탐색)
      - [비정형 데이터 탐색](#비정형-데이터-탐색)
  - [통계기법의 이해](#통계기법의-이해)
    - [기술통계](#기술통계)
      - [데이터 요약](#데이터-요약)
      - [표본추출](#표본추출)
      - [확률분포](#확률분포)
      - [표본분포](#표본분포)
    - [추론통계](#추론통계)
      - [통계적 추론](#통계적-추론)
      - [점추정](#점추정)
      - [구간추정](#구간추정)
      - [가설검정](#가설검정)

## 데이터 전처리

### 데이터 정제

#### 데이터에 내재된 변수의 이해

- 데이터 관련 정의
  - 데이터 Data
  - 단위 Unit
  - 관측값 Observation
  - 변수 Variable
  - 원자료 Raw Data
- 데이터의 종류
  - 단번량자료
  - 다변량자료
  - 질적자료(범주형)
    - 명목자료
    - 서열자료
  - 수치자료
    - 구간자료
    - 비율자료
  - 시계열자료
  - 횡적자료
  - 종적자료
- 데이터의 정제
  - 정제의 필요성
  - 정제하지 않을경우 문제점
    - 데이터 구성의 일관성이 없어지므로 분석의 처리에 어려움 발생
    - 도출된 결과의 신뢰성 저하
  - 데이터 정제의 과정 Processing
    - 데이터 수집
    - 데이터 변환
    - 데이터 교정
    - 데이터 통합
  - 데이터 정제의 전처리_후처리
    - 전처리
    - 후처리 : 저장 후 처리를 지징하며, 저장 데이터의 품질관리

#### 데이터 결측값 처리

- 결측값 처리
  - 결측치를 임의로 제거 시
    - 분석에 필요한 유의수준 데이터 수집에 실패할 가능성이 발생한다
  - 결측치를 임의로 대체 시
    - 데이터의 편향이 발생하여 분석 결과의 신뢰성 저하 가능성이 있다
- 결측 데이터의 종류
  - 완전 무작위 결측 MCAR
  - 무작위 결측 MAR
  - 비 무작위 결측 NMAR
- 결측값 유형의 분석 및 대치
  - 단순 대치법
    - 완석 분석 (제거)
    - 평균 대치법
    - 회귀 대치법 (회귀분석에 의한 예측치)(조건부 평균 대치법)
    - 단순확률 대치법 : 확률에 의해 추가
    - 최근접 대치법 :
  - 다중 대치법
    - 1단계 : 대치단계 : 복수의 대치에 의한 결측을 대치한 데이터를 생성한다
    - 2단계 : 분석단계 : 복수 개의 데이터셋에 대한 분석을 시행한다
    - 3단계 : 결합단계 : 복수 개의 분석결과에 대한 통계적 결합을 통해 결과를 도출한다

#### 데이터 이상값 처리

- 이상치의 종류 및 발생원인
  - 이상치 종류
    - 단변수 이상치 : 하나의 데이터 분포에서 발생하는 이상치
    - 다변수 이상치 : 복수의 연결된 데이터 분포공간에서 발생하는 이상치
  - 이상치 발생 원인
    - 입력실수
    - 측정오류
    - 실험오류
    - 의도적 이상치 : 의도가 포함된 이상치. 남성의 키
    - 자료처리오류
    - 표본오류
- 이상치의 문제점
  - 기초 분석결과의 신뢰도 저하 : 평균 분산 등에 영향을 준다. 단 중앙값은 영향이 적다
  - 기초통계에 기반한 다른 고급 통계분석의 신뢰성 저하
- 이상치 탐지
  - 시각화을 통한 빙법(비모수적, 단변량의 경우)
    - 상자수염그림, 줄기잎그림, 산점도 그림(비모수적 2변량)
  - Z-score 통한 방법 (모수적 단변량 또는 저변량)
    - 정규화를 통해 특정 Threshold 를 벗어난 경우(1a(68.27), 2a(95.45), 3a(99.73))
  - 밀도기반 클러스터링 방법 DBSCAN : 비모수적 다변량의 경우
  - 고립 의사나무 방법 : 비모수적 다변량의 경우

### 분석 변수 처리

#### 변수 선택

- 회귀분석 사례
- 변수별 모형의 분류
  - 전체 모형
  - 축소모형
  - 영모형
- 변수 선택 방법
  - 전진 선택법
  - 후진 선택법
  - 단계적 선택법

#### 차원 축소

- 자료의 차원
- 차원의 축소
- 차원 축소의 필요성
  - 복잡도의 축소
  - 과적합 방지
  - 해석렬 확보
  - 차원의 저주
- 차원 축소의 방법
  - 요인 분석
    - 다수의 변수들 간의 상관관계를 분석하여 공통차원을 축소하는 과정
    - 변수 축소
    - 변수 제거
    - 변수특성 파악
    - 타당성 평가
    - 파생변수
  - 특징
    - 독립변수, 종속변수 개념이 없다.
    - 주성분분석, 특이값 분해, 음수미포함 행렬분해
  - 주성분분석 PCA
    - 분포된 데이터들의 특성을 설명할 수 있는 하나 또는 복수 개의 특정을 찾는 것을 의미한다.
  - 특이값 분해 SVD
    - $M=U\sum V^E$
  - 음수미포함 행렬분해
    - 음수를 포함하지 않은 행렬 V를 음수를 포함하지 않은 두 행렬의 곱으로 분해하는 알고리즘

#### 파생변수 생성

- 파생변수
  - 데이터마트는 데이터 웨어하우스로부터 복제 또는 자체 수집된 데이터모임의 중간층이지만 북석을 위한 기본단계변수가 모여지는 단계
  - 기존의 변수를 조합하여 새로운 변수를 만들어내는 것을 의미
- 요약변수
  - 수집된 정보를 분석에 맞게 종합한 변수
- 요약변수 vs 파생변수
  - 요약변수 (단순 종합 개념)
    - 매장이용 횟수, 구매상품품목 개수, 기간별 구매금액, 상품별 구매금액
    - 주 구매매장 변수, 구매상품 다양한 변수, 주 활동지역 변수, 주 구매상품 변수
  - 요약변수 처리시의 주의점
    - 처리방법에 따라 결측치의 처리 및 이상값 처리에 유의해야 한다.
    - 연속형 변수의 구간화 적용과 고정된 구간화를 통한 의미 파악 시 정구간이 아닌 의미있는 구간을 찾도록 해야 한다
  - 파생변수 처리 시 유의점
    - 특정 상황에만 의미성 부여가 아닌 보편적이고 전 데이터구간에 대표성을 가지는 파생변수 생성을 위해서 노력해야 한다.
  - 파생변수 생성방법
    - 한 값으로부터 특징을 추출한다
    - 한 레코드내의 값들을 결합한다
    - 다른 테이블의 부가적 정보를 결합한다
    - 다수의 필드내에 시간 종속적인 데이터를 선택한다
    - 레코드 또는 중요 필드를 요약한다

#### 변수 변환

- 변수 변환의 개념
  - 데이터를 분석하기 좋은 형태로 바꾸는 작업
- 변수 변환의 방법
  - 범주형 변환
  - 정규화 : 상태적 특성이 반영된 데이터로 변환하는 것이 필요
    - 일반 정규화
    - 최소-최대 정규화 : 이상치 영향을 많이 받음
    - Z-점수 정규화 : 이상치 문제를 피하는 데이터 정규화
    - 로그변환
    - 역수변환
    - 지수변환
    - 제곱근변환
    - 분포형태별 정규분포 변환
      - 좌로 치우침 : $x^3$
      - 좌로 야깐 치우침 : $x^2$
      - 우로 야깐 치우침 : $\sqrt{x}$
      - 우로 치우침 : $ln(x)$
      - 극단적 우로 치우침 : $\frac{1}{x}$
  - 정규성 검정으로 검증 가능, qq플랏도 가능

#### 불균형 데이터 처리

- 불균형 데이터의 문제점
  - 정확도가 높아도 데이터 개수가 적은 클래스의 재현율이 급격히 작아지는 현상이 발생 할 수 있다.
- 불균형 데이터 처리 방법
  - 가중치 균형 방법 : 비율별 가중치 부과
    - 고정 비율 이용
    - 최적 비율 이용
  - 언더샘플링 오버샘플링

## 데이터 탐색

### 데이터 탐색의 기초

#### 데이터 탐색의 개요

- 탐색적 데이터 분석 EDA
- 탐색적 데이터 분석의 필요성
  - 내재된 잠재적 문제에 대해 인식하고 해결안을 도출할 수 있다
- 분석과정 및 절차
  - 분석 목적, 변수, 개별변수, 확인
  - 데이터 문제(결측치의 유무, 이상치 유무), 추가적으로 분포상의 이상형태 Head, Tail
  - 데이터 개별 속성값이 예상한 범위 분포를 가지는지 확인
  - 관계속성 확인
- 이상치의 검출
  - 개별 데이터 관찰
  - 통계값 활용
    - IQR 사분위범위를 이용한 이상치 제거
    - 정규분포를 활용(1 ~ 6 $\sigma$)
    - 시각화 활용 확률밀도, 히스토그램, 점, 워드클라우드, 시계열, 지도
  - 머신러닝 기법 :Kmeans

#### 상관관계분석

- 변수 간의 상관성 분석
  - 두 변수는 서로 독립적인 관계이거나 상관된 관계일 수 있으며 이때 두 변수 간의 관계의 강도를 상관관계라 한다.
    - 단순상관관계 분석
    - 다중상관관계 분석
    - 편상관관계분석
- 상관분석의 기본 가정
  - 선형성
  - 등분산성
  - 두 변인의 정규분포성
  - 무선독립표본
- 상관분석 방법
  - 피어슨 상관계수
  - 스피어만 상관계수

#### 기초통계량의 추출 및 이해

- 중심화 경향 기초통계량
  - 산술평균
    - 모평균
    - 표본평균
  - 기하평균 : 곱평균
  - 조화평균 : 역수 산술평균 역수
  - 중앙값
  - 최빈값
  - 분위수
- 산포도
  - 분산, 표준편차
  - 분산의 특징
    - 개개의 자료값에 대한 정보 반영
    - 수맂거으로 다루기 쉽다
    - 특이점에 매우 큰 영향을 받는다
    - 분산이 클수록 각 자료값이 평균으로 넓게 흩어진 형태를 갖는다
    - 미지의 모분산을 추론할때 사용
  - 범위 (최대 최소 차)
  - 평균 절대 편차(평균 편차) : 각 자료값과 표본평균의 편차의 절대값
    - 절댓값을 사용하므로 수리적으로 다루기 부적절하다
    - 평균 절대 편차가 클수록 자료는 폭넓게 분포한다
  - 사분위 범위 IQR
- 자료의 분포 형태
  - 왜도 : 치우친 정도, 왼 +, 오 -
  - 첨도 : 분포의 뾰족한 정도. 3 정규, 미만 평평, 이상 뾰족

#### 시각적 데이터 탐색

- 통계적 시각화 도구
  - 도수분포표
    - 도수 : 범주별 빈도
    - 상대도수 : 도수/전체 자료 수
  - 히스토그램
  - 막대그래프
  - 파이차트
  - 산점도
  - 줄기 잎 그림
  - 상자그림

### 고급 데이터 탐색

#### 시공간 데이터 탐색

- 시공간 데이터 개념
  - 공간적 정보에 시간의 흐름이 결합된 다차원 데이터를 다르는 것
  - 시간데이터
    - 유효시간, 거래시간, 사용자 정의 시간, 스냅샷 데이터 ,거래 시간 데이터 ,유효시간 데이터, 이원 시간 데이터
  - 공간 데이터
    - 비공간 타입
    - 래스터 공간 타입
    - 백터 공간 타입
    - 기하학적 타입
    - 위상적 타입
  - 공간 데이터 모델
    - 관계형 모델
    - 객체지향 모델
  - 시공간 데이터
- 시공간 데이터 분석
  - 시공간 데이터 질의어
    - 시공간자료 정의 언어
      - 시공간 테이블 인덱스 및 뷰의 정의문, 변경문 등이 포함되어 있다
    - 시공간자료 조직언어
      - 객체의 삽입, 삭제, 변경 등의 검색문이 있다.
  - 시공간 데이터의 연산
    - 시공간위상 관계연산
    - 시공간기하 연산
- 적용 및 응용분야
  - 지리정보, 위치기반 서비스, 차량 위치추적

#### 다변량 데이터 탐색

- 종속변수와 독립변수 사이의 인과 관계
  - 다중회귀
    - 독립변수가 2개 이상. 각 독립변수는 종속변수와 선형관계에 있음을 가정
    - 장점 : 변수를 추가하여 분석내용의 질적 향상 도모
      - 단순회귀모형의 추정량의 편이(bais)를 제거할 수 있다.
    - 일반 형식
    - 기본가정
    - 분석방법
  - 로지스틱 회귀 Logistic Regression
    - 특징 : 시그모이드 함수.
  - 분산분석 ANOVA (Analysis of Variance)
    - 3개 이상의 표본들의 차이를 표본평균 간의 분산과 표본 내의 관측치간 분산을 비교하여 가설 검정
    - 일원분산분석 (One-Way Anova) : 단 하나의 인자에 근거하여 분석
    - 일원분산분석의 특징
      - 단일용인변수에 의해 종속변수에 대한 평균치의 차이 검정
      - 종속변수와 정수값을 갖는 요인변수가 각 하나여야 하고 요인변수 정의되어야 한다
  - 다변량 분산분석(Multi Variate ANOVA)
    - 이원분산분석(Two-Way ANOVA)
      - 두 개 이상의 인자에 근거하여 여러 수준으로 나누어지는 분석
    - 이원분산분석의 특징
      - 독립인 변수가 둘이다.
- 변수축약
  - 주성분분석
    - 비정규성, 이상치 제거.
  - 요인분석
    - 요인분석 특징 : 독립, 종속변수 개념이 없다. 기술통계법에 의해 수행
    - 요인분석 목적
      - 변수축소
      - 변수제거
      - 변수특성파악
      - 측정항복의 타당성 평가
      - 요인점수를 통한 변수생성
  - 정준상관분석
    - 정준변수 : 새로 만들어진 선형결합
    - 정준상관계수 : 정준변수들 사이의 상관계수
  - 정준분석과 회귀분석의 차이점
    - 회귀분석의 경우 하나의 반응변수를 여러 개의 설명변수로 설명하고자 할 때 가장 설명력이 높은 변수들의 선형결합을 찾아 이들 사이의 인과관계를 생각하는 반면, 정준분석에서는 인과성이 없다.
- 개체유도
  - 군집분석 : 범주에 대한 사전정보가 없는 경우에 관측값들 사이의 거리를 이용
    - 계층적 방법
    - 비계층적 방법, 최적분화
    - 조밀도에 의한 방법
    - 그래프를 이용하는 방법
  - 다차원 척도법
  - 판별분석
    - 로지스틱 판별분석

#### 비정형 데이터 탐색

- 비정형 데이터
  - 비정형 데이터의 특징
  - 정형 데이터
  - 반정형 데이터
  - 비정형 데이터
  - 비정형 데이터 관리 및 분석 의미 도출
- 비정형데이터 분석
  - 데이터마이닝
    - 통계적 규칙이나 패턴을 분석하여 가치있는 정보를 추출하는 과정
    - 적용분야
      - 신용평점 시스템, 사기탐지, 장바구니, 최적 포트폴리오 구축 등
    - 분류 Classification
    - 군집화 Clustering
    - 연관성 Association
    - 연속성 Sequencing
    - 예측 Forecasting
    - 데이터마이닝 단점
      - 자료에 의존하여 해석하고 개선하려 하기 때문에 자료가 현실을 충분히 반영하지 못한 상태에서 정보를 추출한 모형을 개발할 경우 잘못된 모형을 구축하는 오류를 범할 수 있다.
  - 텍스트 마이닝
    - 자연어처리 NLP
  - 오피니언 마이닝
    - 텍스트 마이닝은 문장 내 주제를 파악하고 오피니언 마이닝은 감정_뉘앙스_태도 등을 판별
  - 웹 마이닝
    - 웹 자원으로부터 의미있는 패턴, 추세 등을 도출

## 통계기법의 이해

### 기술통계

#### 데이터 요약

- 기초통계량을 산출하여 결과를 도출한다

#### 표본추출

- 모집단, 표본, 표본추출
- 전수조사와 표본조사
  - 전수조사 : 인구조사 (인력과 예산이 많이 소모)
  - 표본조사 : 관심 대상이 되는 모집단에서 표본을 추출하여 표본을 대상으로 조사시행
    - 비용절감, 신속성, 심도있는 조사 가능, 정확성 높음
- 표본추출 오차
  - 과잉대표 : 중복선택 등의 원인으로 반복_중복 된 데이터만 규정되는 현상
  - 최소대표 : 대표성을 나타낼 표본이 아닌 다른 데이터가 표본이 되는 경우
- 활률 표본추출 기법
  - 단순무작위 추출 :
  - 계통추출 : 추출간격 설정하여 무작위 추출
  - 층화추출 : 여러 층으로 나누어 분할된 층별로 배정된 표본을 추출
    - 층화변수
      - 질적 층화변수
      - 양적 층화변수
      - 충화변수가 양적변수인 경우 층의 최적경계점
      - 표본의 배분
        - 비례배분법 : 비율 유지
        - 네이만배분법 : 크기와 변동정도를 동시에 고려
        - 최적배분법 :  추정량의 분산 최호화, 주어진 분산 범위 내에서 최소화
  - 군집추출
- 비확률 표본추출 기법
  - 일반적으로 모집단을 정확하게 규정지을 수 없는경우 표본오차가 큰 문제가 되지 않는경우
  - 간편추출법(편의추출법)
    - 자의적인 판단에 따라 추출, (길가던 사람 설문)
  - 판단추출법
    - 나름의 지식과 경험에 의해 모집단을 가장 잘 대표한다 여겨지는 주관적 선정(출구조사)
  - 할당추출법
    - 조사목적과 밀접하게 관련되어 있는 조사 대상자 연령 성별과 같은 값에 따른 부분집단 구분. 구성비율 유사하게 선정
  - 눈덩이 추출법
    - 접근이 어렵거나 작성이 곤란한 특정 상황조사
      - 사전 알고있는 사람대상, 소개받아 조사.(폭력조직원 약물사용 등)

#### 확률분포

- 기술통계, 추측통계
- 확률의 개념
  - 통계적 현상
  - 확률실험
    - 경우의수
  - 확률
    - 수학적확률
    - 통계적 확률
      - 사건이 일어나는 확률을 상대도수에 의해 추정
  - 사건 Event
    - 사건은 개별적으로 발생결과일 수 있고, 복합적일 수 있다
  - 표본공간
    - 통계적 실험에서 모든 발생 가능한 실험결과들의 집합
  - 확률의 기본성질
    - 사건 확률은 0이상
    - 모든 사건은 포본공간 안에 발생. 표본공간 확률 1
    - 집합의 개념. 합집합 = A + B - 교집합
    - 여집합
    - 존재하지 않은 사건의 확률은 0
    - 부분집합은 항상 같거나 작다
  - 조건부 확률
  - 결합확률 (확률의 곱)
  - 총확률정리
    - 임의의 사건 B의 확률을 k개의 조건부 확률을 이용해서 구하는 것
  - 베이지안 정리(베이즈정리)
- 확률변수
  - 사건의 시행의 결과를 하나의 수치로 대응시킬 때의 값
  - 확률변수의 종류
    - 이산확률변수
    - 연속확률변수
- 확률분포
  - 이산확률분포
  - 연속확률분포
  - 확률분포함수
- 확률변수의 기댓값과 분산
  - 이산확률 기댓값 : np
  - 연속확률 기댓값 : 적분
  - 기댓값의 성질
    - 선형성
    $$ E(aX + b) = aE(X)+b $$
    - 덧셈
    $$ E(X + Y) = E(X)+E(Y) $$
    - 곱셈
      - 독립일 경우만 성립
    $$ E(XY) = E(X)E(Y) $$
  - 분산
    $$ Var(X) = E(X^2)-{E(X)}^2 $$
  - 분산의 성질
    $$Var(aX) = a^2Var(X)$$
    $$Var(X+b) = Var(X)$$
    $$Var(X + Y) = Var(X) + Var(Y) +2 Cov(X,Y)$$
- 이산확률분포의 종류
  - 베르누이 분포 Bernoulli : ($X\sim Bern(x,p)$)결과가 성공 아니면 실패
    - 확률질량함수 $f(x) = p^xq^{1-x}$
    - 기댓값 : $E(X) = p$
    - 분산 : $Var(X) = pq$
  - 이항분포 Binomial : ($X\sim B(n,p)$) 베르누이 시행 n번 독립적으로 시행 시 성공확률
    - 확률질량함수 $f(x) =  {n \choose x} p^xq^{n-x}$
    - 기댓값 : $E(X) = np$
    - 분산 : $Var(X) = npq$
  - 다항분포 Multinomial : 여러번의 독립적 시행에서 각각의 값이 특정 회수가 나타날  
    - 확률질량함수 $f(x_1, x_2...;n,p_1,...) =\frac{n!}{x_1!x_2!\dots x_k!}p_1^{x_1}p_2^{x_2} \dots p_k^{x_k}$
    - 기댓값 : $E(X) = np_i$
    - 분산 : $Var(X) = np_i(1-p_i)$
  - 포아송분포 Poisson : ($X\sim Pois(\lambda)$) : 단위 시간 안에 어떤 사건이 몇 번 발생할 것인지를 표현
    - 확률질량함수 $f(x) = \frac{\lambda^xe^{-\lambda}}{x!}$
    - 기댓값 : $E(X) = \lambda$
    - 분산 : $Var(X) = \lambda$
    - 포아송분포의 근사
      - 이항분포를 포아송분포로 근사시켜 확률 구하는 경우
      - n이 무한히 커지고, p가 매우 작다면(n>=30, p<=0.05) $\lambda = np$가 될 수 있고 포아송분포를 따른다
  - 기하분포 Geometric : 베르누이 시행에서 처음 성공까지 시도한 횟수를 분포화한 이산확률분포의 한 종류
    - 확률질량함수 $f(x) = pq^{x-1}$
    - 기댓값 : $E(X) = \frac{1}{p}$
    - 분산 : $Var(X) = \frac{q}{p^2}$
  - 음이항분포 Negative Binomial : x번의 베르누이 시행에서 k번째 성공할 때까지 계속 시행하는 실험
    - 확률질량함수 $f(x) = {x-1 \choose k-1}q^{x-k}p^k, x=k, k+1$
    - 기댓값 : $E(X) = k\frac{1-p}{p}$
    - 분산 : $Var(X) = k\frac{1-p}{p^2}$
  - 초기하분포 Hypergeometric : 비복원 추출에서 N개중 n개를 추출했을 때 원하는 k개가 뽑힐 확률
    - 확률질량함수 $f_X(k) = \frac{{K \choose k}{N-K \choose n-k}}{{N \choose n}}$
    - 기댓값 : $E(X) = n\frac{K}{N}$
    - 분산 : $Var(X) = n\frac{K}{N}(\frac{N-K}{N})(\frac{N-n}{N-1})$
- 연속확률분포
  - 연속균등분포 Continuous Uniform : $X \sim U(a,b)$ 특정 범위 내에서 균등하게 나타나는 경우
    - 확률밀도함수 : $f(x) = \frac{1}{b-a}$
    - 평균 : $ \frac{a+b}{2} $
    - 분산 : $ \frac{(b-a)^2}{12} $
  - 지수분포 Exponential : $X \sim Exp(\beta)$ 다음 사건이 일어날 때까지의 대기시간 에 대한 확률, 포아송과정에서 한 개의 사건이 발생할 때까지의 대기시간 (포아송은 횟수, 지수분포는 대기시간)
    - 확률밀도함수 : $f(x) = \frac{1}{\beta}e^{-x/\beta}, x>0$
    - 평균 : $ \beta$
    - 분산 : $ \beta^2$ : 지수는 평균과 표준편차가 같다(포아송은 평균=분산)
    - 지수분포의 무기억성질 : $P(X>a+b|X>a) = P(X>b)$a에 대한 확률은 고려하지 않아도 된다
  - 정규분포 Normal : $X \sim N(\mu, \sigma^2)$ 가우스분포라고도 한다,
    - 확률밀도함수 : $f(x) = \frac{1}{\sigma \sqrt{2\pi}}e^{-\frac{1}{2}\left( \frac{x-\mu}{\sigma}\right)^2}$
    - 평균 : $\mu$
    - 분산 : $\sigma$
  - 표준정규분포 Standard Normal : $X \sim N(0, 1)$
    - 평균 0, 표준편차 1이 되도록 한 정규분포
    - 정규화 : 어떤 관측치 X값이 그 분포에서 평균에서 표춘편차 대비 얼마나 떨어져 있는지를 표준화된 정규분포 변환식에 의해 알 수 있다
    $$ Z = \frac{X - \mu}{\sigma} $$
  - 감마분포 gamma : 포아송과정($1/\lambda = \theta$)에서 k개의 사건이 발생할 때까지의 대기시간으로 확률변수 X를 정의
    - 사건의 횟수가 포아송분포를 따른다면 다음 사건이 일어날 때까지의 대기시간 $\theta$
    - 확률밀도함수 : $f(x, k, \theta) = \frac{1}{\gamma(k)\theta^k}x^{k-1}e^{-x/\theta}$
      - $\gamma(\alpha) = \int_0^{\infty}x^{k-1}e^{-\infty}dx = {(k-1)! \; 양의정수 \brace \sqrt{\pi} \;\;\; k=1/2}$
    - 기댓값 : $ k\theta $
    - 분산 : $ k\theta^2$
    - 감마분포 특징 : k 가 1일 경우 지수분포와 동일하다.
  - 카이제곱분포 Chi-Squared : $X \sim X^2(k)$ k개의 서로 독립적인 표준정규확률 변수를 각각 제곱한 다음 합해서 얻어지는 분포
    - 자유도 df : k를 지칭하는 것으로 카이제곱분포의 매배변수가 된다
    - 확률밀도함수 : $f(x; k) = \frac{1}{2^{frac{k}{2}}\gamma(\frac{k}{2})}x^{\frac{k}{2}-1}e^{-x/2}$
    - 기댓값 : $ k $
    - 분산 : $ 2k $
    - 카이제곱분포 특징
      - (k/2, $\theta$) = (k/2, 2) 경우의 감마분포가 카이제곱분포가 된다
  - 스튜던트 t분포 Student t : $X \sim t(n-1)$ 정규분포의 평균 측정 시 주로 사용하는 분포
  - 확률변수의 분포 $\frac{Z}{\sqrt{V/v}}$로 정의된다, Z 표준정규분포, V 자유도, v인 카이제곱 분포
    - 자유도 : 표본의 크기 n에서 1을 뺀 값
    - 확률밀도함수 : $f(x) = \frac{\gamma \left( \frac{v+1}{2} \right)}{\sqrt{v\pi}\gamma \left( \frac{v}{2} \right)}(1 + \frac{x^2}{v})^{-(\frac{v+1}{2})}$
    - 기댓값 : $ 0 (v>1 일 때) 나머지는 정의되지 않음$
  - F분포 F : $X \sim F(k_1, k_2)$ 두 개의 확률 변수 $V_1, V_2$의 자유도가 각각 $k_1, k_2$이고 서로 카이제곱분포를 따른다고 할 때 다음 아래와 같이 정의된 확률변수
    - $F = \frac{V_1/k_1}{V_2/k_2} \sim F(k_1, K_2)$ 자유도가 $k_1, k_2$인 F분포를 따른다고 한다.
    - F분포는 F검정이나 분산분석(ANOVA) 에 주로 사용되는 분포함수이다
    - 확률밀도함수 : $f(x) = \frac{1}{B(d_1/2, d_2/2)}\left( \frac{d_1x}{d1x+d_2}\right)^{\frac{d_1}{2}}\left(1- \frac{d_1x}{d_1x+d_2}\right)^{\frac{d_2}{2}}x^{-1}$
      - B는 $B(x,y) = \inf_0^1t^{x-1}(1-t)^{y-1}dt$
    - 기댓값 : $ \frac{d_2}{d_2-2} $ 단 $d_2$ > 2

#### 표본분포

- 모집단 분포와 표본분포
  - 모집단의 모수 (parameter)
    - 모집단의 평균$\mu$, 모집단의 표준편차 $\sigma$
  - 표본의 통계량
    - 표본집단의 평균 $\bar X$, 표본집단의 표준편차 S
- 표본평균의 표본분포
  - 모집단으로 표본을 추출하였을 때 얻을 수 있는 모든 표본평균값($\bar X$)을 확률값으로 하는 분포
- 표본평균의 표본푼포 통계량
  - 표본평균 $\bar X$의 표본분포의 평균은 모집단의 평균 $\mu$와 동일하다
  - 표본 분산 $\frac{\sigma^2}{n}$
  - 표준오차
    - 표본평균의 평균과 표준편차를 각각 $\mu_{\bar X}, \sigma_{\bar X}$로 표시하는데 특히 표본평균의 표준편차를 평균의 표준오라 또는 표준오차라 한다
    - 모집단의 크기가 무한대에 한에서 표본평균의 표준오차는
      - $\frac{\sigma}{\sqrt{n}}$
    - 크기가 유한한 경우
      - $\sigma_{\bar X} = \sqrt{\frac{N-n}{N-1}}\frac{\sigma}{\sqrt{n}}$
        - N 모집단 크기, n 표본크기
- 중심극한정리
  - 동일한 확률분포를 가진 독립 확률변수 n개의 평균 분포는 n이 적당히 크다면 정규분포에 가까워진다
    - 린데베르크 레비 중심극한정리
    - 의미 : 모집단의 분포가 무엇이든 상관없이 표본의 수가 큰 표본정규분포들의 표본평균의 분포가 정규분포를 이룬다는 의미
- 표본평균의 표준화
  $$ Z = \frac{\bar X - \mu}{\sigma_{\bar X}} = \frac{\bar X - \mu}{\sigma / \sqrt{n}}$$
  $$ P\left( \mu - k\frac{\sigma}{\sqrt\mu} \leq \bar X \leq \mu + k\frac{\sigma}{\sqrt n} \right) = P \left( -k \leq \frac{\bar X -\mu}{\frac{\sigma}{\sqrt n}}\leq k \right)$$
  - k = 1 : 0.68
  - k = 2 : 0.95
  - k = 3 : 0.997
- 표본비율
  - 표본을 구성하는 n개의 개체 중에서 성공으로 나타나는 개체 수의 비율
    - 모비율
- 표본비율의 표본분포
  - 표본분포에서의 평균과 표준오파
  - 표본비율의 표본분포

### 추론통계

#### 통계적 추론

- 모집단에 대한 어떤 미지의 양상을 알기 위해 통계학을 이용하여 추측하는 과정을 지칭하며 통계학의 한 부분
- 추정
  - 표본을 통해 모집단 특성이 어떠한가에 대하 추측하는 과정
- 가설검정
  - 모집단의 실제값이 얼마나 되는가 하는 주장과 관련해서 가지고 있는 정보를 이용해 가설이 올바른지 과정

#### 점추정

- 추정량의 선택기준
  - 불편성
    - 표본 통계량의 기댓값이 모수의 실제값과 같은 때 이 추정량은 불편성을 가진다
      $$ E(\hat \theta) = \theta $$
  - 효율성
    - 추정량 중에서 최소의 분산을 가진 추정량이 가장 효율적이다
      $$ Var(\hat \theta_1) < Var(\hat \theta_2)$$
    - 최소분산불편추정량 : 모든 불편추정량 중에서 가장 작은 분산을 가지는 추정량
  - 일치성
    - 표본크기가 증가할수록 좋은 추정값을 제시한다
  - 충분성
    - 추정량이 모수에 대하여 가장 많은 정보를 제공할 때 그 추정량은 충분추정량이 된다
- 점추정량
  - 모집단의 특성을 단일값으로 추정하는 것을 말한다
  - 모평균에 대한 점추정 : 포본집단의 표본평균
  - 모분산에 대한 점추정 : 표본집단의 표본분산
  - 모비율에 대한 점추정 : 표본 비율
- 적률방법
  - 적률 Moment
  - 양수 n에 확률변수 $X^n$의 기댓값을 확률변수 X의 원점에 대한 n차 적률이라 한다.
  - 표본평균을 이용한 모수의 점추정시 적률에 의한 방법
    - $E(X) = M_1$
    - $E(X^2) = M_2$
    - $E(X^3) = M_3$
    - $E(X^4) = M_4$
- 편향
  - 기대하는 추정량과 모수의 차이다
  - 임의의 추정량의 편향을 $B(\hat \theta) = E(\hat \theta) - \theta$
  - 불편추정량의 다른표현
    - $B(\hat \theta) = 0$
- 평균제곱오차 MSE
  - 점추정량을 $\hat \theta$, 모수를 $\theta$ 라 할때, Error=$\hat \theta - \theta$ 라고 정의하면 평균제곱오차는 제곱간의 기댓값으로 정의하고 $MSE = E[(\hat \theta - \theta)^2]$으로 나타낸다
- 최대우도추정
  - 우도함수 Likelihood Function
    - 각 확률변수가 서로 독립이면 우도함수는 각각 주변확률밀도함수의 곱으로 표현이 가능하다
  - 최대우도추정 (Maximum Likelihood Estimation)
    - 확률표본의 우도함수
    - **공식자리**

#### 구간추정

- 구간추정의 개념
  - 점추정에 오차의 개념을 도입하여 모수가 포함되는 확률변수구간을 어떤 신뢰성 아래 추정하는 것이다
    - 일반화
    - 신뢰구간, 유의수준
- 모평균의 구간추정
  - 모집단의 분산을 알고있는 경우
    - Z통계량 ($\mu$의 범위)
      - 90 : $\bar X$ +- 1.645 * $\frac{\sigma}{\sqrt n}$
      - 95 : $\bar X$ +- 1.96 * $\frac{\sigma}{\sqrt n}$
      - 99 : $\bar X$ +- 2.576 * $\frac{\sigma}{\sqrt n}$
  - 모집단의 분산을 모르는 경우
    - 모집단의 표준편차 $\sigma$를 모를경우 표본에서 구한 불편추정량 S, 즉 표본의 표준편차를 $\sigma$대신 사용한다.
      $$ S = \sqrt{\frac{1}{n-1}\sum (x_i - \bar X)^2} $$
    - 단 표본의 크기가 작고 모집단의 $\sigma$를 모르므로 표본통계량인 $(\bar X - \mu) / (S/\sqrt n)$ 는 정규분포를 따르지 않고 자유도 (n-1)인 t분포를 따르므로 t분포를 이용하여 신뢰구간을 구한다.
      $$ \bar X - t_{\frac{\alpha}{2}n-1}\frac{s}{\sqrt n} \leq \mu \leq \bar X + t_{\frac{\alpha}{2}n-1}\frac{s}{\sqrt n} $$
    - t 분포에 의한 신뢰구간
      - 90 : $\bar X$ +- 1.725 * $\frac{S}{\sqrt n}$
      - 95 : $\bar X$ +- 2.086 * $\frac{S}{\sqrt n}$
    - 자유도가 클수록 정규분포와 유사해지므로 표본이 클 경유 t, z 둘다 비슷한 결과를 얻는다
- 모분산의 신뢰구간
  $$ \frac{(n-1)S^2}{X^2_{1-\frac{\alpha}{2}(n-1)}} \le \sigma^2 \frac{(n-1)S^2}{X^2_{\frac{\alpha}{2}(n-1)}} $$
- 모비율의 신뢰구간
  $$ \hat p - Z_{\frac{\alpha}{2}}\sqrt{\frac{\hat p(1-\beta)}{n}} \leq p \leq \hat p + Z_{\frac{\alpha}{2}}\sqrt{\frac{\hat p(1-\beta)}{n}} $$
- 신뢰구간 표본 크기의 결정
  - 모평균에 의한 신뢰구간을 이용한 표본의 크기
  $$ n = \left( z_{\frac{\alpha}{2}}\frac{\sigma}{d} \right)^2$$
  - d는 허용오차
  - 모비율에 대한 신뢰구간을 이용한 표본 크기
  $$ n = \left( z_{\frac{\alpha}{2}}\frac{\sqrt{pq}}{d} \right)^2 , q = 1 - p$$
  - 모비율에 대한 정보가 주어지지 않은 경유 p=1/2 로 놓고 표본의 크기를 결정한다
  $$ n = \frac{1}{4} \left(z_{\frac{\alpha}{2}}\frac{1}{d}\right)^2 , q = 1 - p$$

#### 가설검정

- 검정통계량
- 가설검정
- 가설검정의 절차
  - 오류의 허용확률을 정해 놓고 그 기준에 따라 가설의 채택이나 기각을 결정
  - 귀무가설 : 현재 통념적으로 믿어지고 있는 모수에 대한 주장 또는 원래의 기준이 되는 가설
  - 대립가설 : 연구자가 모수에 대해 새로운 통계적 입증을 이루어 내고자 하는 가설
- 유의수준 $\alpha$
  |검정결과 \\ 실제상황 | $H_0$ | $H_1$ |
  | :---: | :---: | :---: |
  | $H_0$ 채택 | success | Type 2 Error |
  | $H_0$ 기각 | Type 1 Error | success |
  - 1종 오류 : 귀무가설이 참일 때 귀무가설을 기각
  - 2종 오류 : 귀무가설이 거짓인데 귀무가설을 채택
  - 유의수준 : 제 1종 오류를 범할 확률의 최대 허용한계를 유의수준, 위험률 이라 한다
- 검정통계량 및 포본분포의 결정
- 기각역의 결정
  - 귀무가설을 기각하게 되는 검정통계량의 범위를 기각역이라 하며, 기각역의 경계값을 임계치라 한다
    - 임계치 : 주어진 유의수준 $\alpha$에서 귀무가설의 채택과 기각에 관련된 의사결정을 할 때, 그 기준의 되는 점
    - 양측 검정 : 가설검정에서 기각영역이 양쪽에 있는 것
    - 단측 검정 : 가설검정에서 기각영역이 어느 한쪽에만 있게되는 경우
- 검정통계량 계산
  - 의사결정
  - 통계량의 계산과 임계치의 비교
    - 임계치가 결정되면 표본에서 얻은 통계량이 기각영역에 속하는지 채택 영역에 속하는지 결정
  - p-value
    - 주어진 자료로서 귀무가설을 기각하려고 할 때 필요한 최소의 유의수준을 의미하며, 다른 용어로 유의성 확률 또는 관측된 유의수준 이라한다.
      - P-value < $\alpha$ : 귀무가설 기각
      - P-value > $\alpha$ : 귀무가설 채택
- 표본의 평균 검정
  - 집단크기에 따른 검정통계량
    - 대표본, 모집단이 정규분포: $ Z = \frac{\bar - \mu}{\sigma / \sqrt n} \sim N(0,1)$
    - 정규분포를 따르는 소표본 : $ T = \frac{\bar - \mu}{S / \sqrt n} \sim t(n-1)$
  - 가설의 검정
    - 귀무가설 $H_0$ : $\mu=\mu_0$
    - 대립가설 $H_1$ : $\mu \neq \mu_0$ 또는 한쪽이 작거나 크다
  - 검정통계량 : Z검정 또는 t검정을 시행
  - 검정 : $\alpha$오류값의 검정과 비교
- 두 독립표본의 평균차이 검정
  - 가설의 검정
    - 귀무가설 $H_0$ : $\mu-\mu_0=0$
    - 대립가설 $H_1$ : $\mu-\mu_0\neq0$ 또는 작거나 크다
  - 검정콩계량 설정 : X표본과 Y표본의 표본평균 차이에 근거하여 구성
    $$ T = \frac{\bar X - \bar Y}{S_p \sqrt{\frac{1}{n} + \frac{1}{m}}} $$
    - 여기서 $S_p = \frac{(n-1)S_1^2 + (m-1)S_2^2}{n+m-2}$는 X,Y의 공분산이다
  - 기각역의 설정
- 대응표본의 평균차이 검정
  - 통계량의 설정
    - n쌍의 독립적인 표본쌍을 검정
    - D = X-Y $\sim N(\mu_D, \sigma_D^2)$
  - 가설의 설정
    - 귀무가설 $H_0$ : $\mu_D=0$
    - 대립가설 $H_1$ : $\mu_D=0$ 또는 작거나 크다
  - 검정통계량 : $T = \frac{D}{S_D/\sqrt n}$ $S^2_D = \frac{\sum(D_i-\bar D)^2}{n-1}$
  - 기각역의 설정
    - 대립가설에 따른 기각역이 결정된다
- 단일표본 모분산에 의한 가설검정 ($X^2$ 검정)
  - 가설의 설정
    - 귀무가설 $H_0$ : $\sigma^2=\sigma^2_0$
    - 대립가설 $H_1$ : $\sigma^2 \neq \sigma^2_0$ 또는 작거나 크다
  - 검정통계량 : $X^2 = \frac{\sum(x_i-\bar x)^2}{\sigma_0^2} = \frac{\phi}{\sigma_0^2}$ 여기서 $\phi = n-1$ 자유도
  - 표본크기 n과 유의수준 $\alpha$에 의해서 결정
- 두 모분산비에 대한 가설 검정 (F검정)
  - 모평균과 모분산을 모르는 경우 두 정규모집단에서 각각 표본크기가 $n_1, n_2$이며, 표본분산이 $s_1^2, s_2^2$이라고 하면 두 모분산의 비 $\sigma^2_1 / \sigma_2^2$에 대한 가설검정 방법은 다음과 같다
  - 가설의 설정
    - 귀무가설 $H_0$ : $\sigma^2_1=\sigma^2_2$
    - 대립가설 $H_1$ : $\sigma^2_1 \leq \sigma^2_2$ 또는 작거나 크다
  - 검정통계량 F = $S^2_1 / S^2_2$
  - 표본의 크기 $n_1, n_2$와 유의수준 $\alpha$를 결정
  - 자유도 $\phi_1 = n_1-1, \phi_2 = n_2 - 1 $인 F검정통계량에 따른 기각역
